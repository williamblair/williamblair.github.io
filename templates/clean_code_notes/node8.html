<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Objects and Data Structures</TITLE>
<META NAME="description" CONTENT="Objects and Data Structures">
<META NAME="keywords" CONTENT="main">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="main.css">

<LINK REL="next" HREF="node9.html">
<LINK REL="previous" HREF="node7.html">
<LINK REL="up" HREF="main.html">
<LINK REL="next" HREF="node9.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html150"
  HREF="node9.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="next.png"></A> 
<A NAME="tex2html148"
  HREF="main.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="up.png"></A> 
<A NAME="tex2html142"
  HREF="node7.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html151"
  HREF="node9.html">Error Handling</A>
<B> Up:</B> <A NAME="tex2html149"
  HREF="main.html">clean code notes</A>
<B> Previous:</B> <A NAME="tex2html143"
  HREF="node7.html">Formatting</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00070000000000000000">
Objects and Data Structures</A>
</H1>

<P>
Data structures should enforce access policies.

<P>
Classes should expose abstract interfaces to the <SPAN  CLASS="textit">essence</SPAN> of the data,
without having to know its implementation

<P>
ex:

<P>
<PRE>
    public interface Vehicle {
        double getPercentFuelRemaining();
    }
</PRE>
vs.
<PRE>
    public interface Vehicle {
        double getFuelTankCapacityInGallons();
        double getGallonsOfGasoline();
    }
</PRE>
In which case the former is better since it represents an
abstract concept which we want rather than implementation details.

<P>
The worst option is to blithely add getters and setters.

<P>
Objects should hide their data behind abstractions and expose functions
that operate on that data. Data structures should expose their data and
have no meaningful functions.

<P>
Procedural code (using data structures) makes it easy to add new functions without
changing the existing data structures. Object Oriented (using objects) on the other 
hand, makes it easy to add new classes without changing existing functions.

<P>
The opposite is also true

<P>
Procedural code makes it hard to add new data structures because all the functions
must change. OO code makes it hard to add new functions because all the classes
must change.

<P>
Law of Demeter: a module should not know about the innards of the objects it manipulates.
An object should not expose its internal structure through accessors.

<P>
Avoid creating "Hybrid" structures - half object and half data structure (have some
public variables but also functions).

<P>
Ex: The following are bad:

<P>
<PRE>
    final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();
    final String outputDir = ctxt.getAbsolutePathOfScratchDirectoryOption();
    final String outputDir = ctxt.getScratchDirectoryOption().getAbsolutePath();
</PRE>

<P>
Instead, we should ask why/what is the purpuse of getting this path (for 
example to use as a file name for writing out to) and do that instead:

<P>
<PRE>
    BufferedOutputStream bos = ctxt.createScratchFileStream(classFileName);
</PRE>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html150"
  HREF="node9.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="next.png"></A> 
<A NAME="tex2html148"
  HREF="main.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="up.png"></A> 
<A NAME="tex2html142"
  HREF="node7.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html151"
  HREF="node9.html">Error Handling</A>
<B> Up:</B> <A NAME="tex2html149"
  HREF="main.html">clean code notes</A>
<B> Previous:</B> <A NAME="tex2html143"
  HREF="node7.html">Formatting</A></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
bj
2019-09-22
</ADDRESS>
</BODY>
</HTML>
