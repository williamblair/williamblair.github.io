<!DOCTYPE html>
<html>
  <head>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <style>
    /* style the editing area */
    .CodeMirror{
      border: 1px solid rgb(255,255,255);
      margin: 10px;
    }
    </style>

    <style>
      html {
      position: relative;
      min-height: 100%;
      }
      body {
      margin-bottom: 60px;
      background-color: #EAEAEA;
      }
      .footer {
      /* Positioning */
      position: absolute;
      bottom: 0;
      width: 100%;
      /* Set the fixed height of the footer here */
      height: 60px;
      line-height: 60px; /* Vertically center the text there */
      /* Look */
      /*background-color: #000000;*/
      }
      #lastModified {
      color: #AAAAAA;
      }
      .jumbotron {
      padding:0px;
      background-color:#000000;
      }
      #imageContainer {
      margin-left: auto; 
      margin-right: auto; 
      width:75%; 
      min-width:800px;
      }
    </style>
    <style>
      #mycanvas {
      width: 500px;
      height: 500px;
      overflow: hidden;
      }
    </style>

    <!-- ace editor -->
    <style>
      .codeEditor {
        height: 300px;
        margin: 10px;
      }
    </style>

  </head>
  <body>
    <!-- navbar content is filled in with navbar.js, using its id -->
    <nav class="navbar navbar-inverse" id="pageNav">
      <script src="../javascript/navbar.js"></script>
    </nav>
  
<div class="container">
  <div class="row">
    <div class="col-xs-10 col-xs-offset-1">
      <div style="width:500px; height:500px; margin-left: auto; margin-right: auto;">
        <canvas id="mycanvas" width="500" height="500"></canvas>
      </div>
    </div>
  </div>

  <div class="panel" style="margin-top:20px;">

    <div class="row">
      <div class="col-sm-12">
        <!-- codemirror editor area -->
        <div id="editorArea1" class="codeEditor"></div>
      </div>
      <div class="col-sm-12">
        <button class="btn btn-primary" id="runButton" style="margin:10px;">Run</button>
      </div>
        <!-- load ace editor -->
        <script src="/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>

        <!-- jquery load text from javascript file, then initialize
             the editor upon completion -->
        <script>

          $(function(){
            $('#editorArea1').load('canvasPhysics.js', function(){

              console.log('load performed!');

              editor = ace.edit("editorArea1");
              editor.setTheme("ace/theme/monokai");
              editor.getSession().setMode("ace/mode/javascript");

              /* set the function to run when the button is clicked */
              var button = document.getElementById('runButton');
              button.onclick = function() {
                var animate = new Function(editor.getValue());
                animate();
              };

              /* Run the function when the web page loads */
              var initialFunc = new Function(editor.getValue());
              initialFunc();
            });
          });
        </script>
      </div>
    </div>

</div>
  
    <!-- footer content is filled in with footer.js, using its id -->
    <footer class="footer" id="pageFooter">
      <script src="../javascript/footer.js"></script>
    </footer>
  
  
    <!-- last modified will exist after footer.js enters the elements
      into pageFooter -->
    <script>
      var p = document.getElementById('lastModified');
      var modString = "Last Modified: ";
      modString += document.lastModified;
      p.innerHTML = modString;
    </script>
  </body>
</html>